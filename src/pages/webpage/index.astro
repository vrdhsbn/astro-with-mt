---
import Layout from '@/layouts/Layout.astro'
import { getData } from '@/lib/getData'

// MTの各投稿記事のオブジェクトの型ってどうしたらいい？
type pageType = Record<string, unknown>

const pages = await getData('pages')
---

<Layout>
  <main>
    <h1>MTから取得したウェブページ一覧</h1>
    <ul class="links">
      {
        pages.items.map((page: pageType) => (
          <li>
            <a href={`/webpage/${page.id}/`}>{page.title}</a>
          </li>
        ))
      }
    </ul>
  </main>
</Layout>

<style>
  main {
    width: 414px;
    min-height: 100vh;
    margin: 0 auto;
    background: #fff;
  }

  h1 {
    font-size: 24px;
    font-weight: 700;
  }

  .links {
    margin-top: 24px;
    list-style-type: circle;
    margin-left: 24px;
  }

  li + li {
    margin-top: 8px;
  }

  a {
    text-decoration: underline;
    color: #4444ff;
  }
</style>
